function initializeCxense(){cxCandyObj.initialized||(cxdj.initialized=!0,cX.callQueue.push(["invoke",function(){cxdj.run()}]))}var cxCandyObj={version:"2015-08-13 01",initialized:!1,userId:null,meta:{hasAd:"u"},sites:{"online.wsj.com":"9222318613852486900","www.wsj.com":"9222318613852486900","live.wsj.com":"9222325317970618875","www.marketwatch.com":"9222325317970825873","marketwatch.com":"9222325317970825873","online.barrons.com":"9222325317970825875","trkcxuevt.wsj.com":"9222334397379502889","www.wsj.de":"9222335528567651907","wsj.de":"9222335528567651907","cn.wsj.com":"9222335528567651934","www.wsj.com.tr":"9222335528567651935","wsj.com.tr":"9222335528567651935","br.wsj.com":"9222335528567651936","jp.wsj.com":"9222335528673021906","kr.wsj.com":"9222335528673021931","indo.wsj.com":"9222335528673021932","store.wsj.com":"9222368254458574875","onboarding.cxpublic.com":"9222363238898586877"},initialize:function(){cX.addEventListener(window,"message",cxdj.renderCallback),cxdj.meta=cxdj.readPageContext()},reportEvent:function(e,t){var c=null,i="9222318613852486900";if(e&&e.length&&0===e.indexOf("https://store.wsj.com"))cX.initializePage(),i=cxdj.sites["store.wsj.com"];else{var a=window.location.hostname;a&&cxdj.sites[a]&&(i=cxdj.sites[a])}cX.setSiteId(i),cX.setCustomParameters(cxdj.meta),t&&cX.setCustomParameters(t),e&&e.length&&(c={location:e}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent(c)},reportFunnelEvent:function(e){cX.callQueue.push(["invoke",function(){var t="default";e||(e={});var c=cX.library.parseUrlArgs();e.hasAdId=c.cx_adcampaign?"y":"n",e.eventType&&(t=e.eventType,"orderSuccessful"===t&&(e.cxad_trail="conversion",e.cxad_ad_folder=c.cx_adcampaign?c.cx_adcampaign:"000000015f7f038c")),cxdj.reportEvent("https://store.wsj.com/"+t,e)}])},getDisplayDiv:function(e){if("n"===cxdj.meta.hasAd){var t=$(e);if(1===t.length&&0===t.children().length)return t}return null},showCandyBar:function(){var e=cxdj.getDisplayDiv("#cx-candybar");e&&(e.css({position:"fixed",bottom:0,width:"100%","z-index":8e3,display:"none"}),cX.callQueue.push(["insertWidget",{appendToElementId:"cx-candybar",width:"100%",height:0,renderTemplateUrl:"http://cdn.cxpublic.com/wsj-candybar-article.html",meta:cX.JSON.stringify(cxdj.meta)}]))},showCandyBarHP:function(){var e=cxdj.getDisplayDiv("#cx-candybarhp");e&&(e.css({position:"fixed",bottom:0,width:"100%","z-index":8e3,display:"none"}),cX.callQueue.push(["insertWidget",{appendToElementId:"cx-candybarhp",width:"100%",height:0,renderTemplateUrl:"http://cdn.cxpublic.com/wsj-candybar-hp.html",meta:cX.JSON.stringify(cxdj.meta)}]))},showSnippet:function(){var e=cxdj.getDisplayDiv("#cx-snippetad");e&&(e.html('<div id="cx-snippet-inner"></div>'),cX.callQueue.push(["insertWidget",{appendToElementId:"cx-snippet-inner",width:700,height:530,renderTemplateUrl:"http://cdn.cxpublic.com/wsj-snippet.html",meta:cX.JSON.stringify(cxdj.meta)}]))},registerScrollExpansion:function(e,t,c){var i=!1;$(window).bind("scroll dynamicScroll",function(){var a=$(document).height()-$(window).height(),n=$(window).scrollTop(),r=a*t,s=a*c;r>n||n>s||i?(r>n||n>s)&&i&&(i=!1,$(e+" iframe").height(149)):(i=!0,$(e+" iframe").height(150))}).trigger("dynamicScroll")},renderCallback:function(e){if(e&&e.data&&"string"==typeof e.data&&cX&&cX.decodeUrlEncodedNameValuePairs){var t=cX.decodeUrlEncodedNameValuePairs(e.data),c="#cx-candybar";switch("hp"===t.type&&(c="#cx-candybarhp"),t.method){case"cxCandyResize":$.isNumeric(t.contentHeight)&&$(c+" iframe").height(t.contentHeight),("100%"===t.contentWidth||$.isNumeric(t.contentWidth))&&$(c+" iframe").width(t.contentWidth);break;case"cxCandyShow":$(c).css({display:"block"});break;case"cxCandyHide":$(c).css({display:"none"}),$(c+"iframe").height(0)}}},readPageContext:function(){var e={};e.hasAd="n",($("#RollOutAd970x66").length>0||$("#AD_PUSH").children().length>0)&&(e.hasAd="y");try{var t=cX.library.parseUrlArgs();t.mod&&(e.navSource=t.mod),t.trackCode&&(e.trackCode=t.trackCode);try{var c=window.devicePixelRatio&&window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches;e.retina=c?"y":"n"}catch(i){e.retina="u"}for(var a=document.getElementsByTagName("meta"),n=0;n<a.length;n++){var r=a[n].content.replace(/ /g,"");switch(a[n].name){case"article.template":e.template=r;break;case"article.access":e.access=r;break;case"user.type":"nonsubscriber"===r?e.subscriber=r:"freeRegister"===r?e.subscriber="registered":"subscriber"===r?e.subscriber=r:["memsubyes"].indexOf(r)>-1?e.subscriber="subscriber":"regyes"==r?e.subscriber="registered":(e.subscriber="default",e.extra1=r);break;case"section":e.section=r;break;case"article.section":e.section=r}}var d=cX.getCookie("wsjregion")||"na,us",o=d.indexOf("reset");d=-1===o?d:d.slice(0,o-1),e.edition=d.replace(/,/g,"");var l="undefined"==typeof s?{}:s;if(e.subscriber||(e.subscriber="default",l.prop27?"WSJ_sub_yes"===l.prop27?e.subscriber="subscriber":"WSJ_reg_yes"===l.prop27?e.subscriber="registered":e.extra2=r:e.extra2="empty"),"string"==typeof l.eVar3&&s.eVar3.length>5)try{cxdj.userId=""+CryptoJS.MD5(l.eVar3)}catch(i){}e.hasUid=cxdj.userId?"y":"n";var p=cX.getCookie("XP02");if(-1==[null,"-1-v4"].indexOf(p)&&(["e008e61ee27d4e9f297e42b322560c63-v4","f088cb83dde67f9ff61a8a3a09b50427-v4"].indexOf(p)>-1?e.compete="xp02":(e.compete="other",e.extra3=decodeURIComponent(p))),window.JSON){var m=JSON.parse(decodeURIComponent(cX.library.getCookie("cke")||"{}"));void 0!==m.A&&(e.ckeA=m.A),void 0!==m.B&&(e.ckeB="number"==typeof m.B?m.B.toFixed(3):m.B),void 0!==m.C&&(e.ckeC="number"==typeof m.C?m.C.toFixed(3):m.C),void 0!==m.D&&(e.ckeD=m.D)}}catch(i){}return e},run:function(){cxdj.initialize(),"undefined"==typeof cxDisplayAdOverride&&(cxdj.showCandyBarHP(),cxdj.showCandyBar(),cxdj.showSnippet()),cxdj.reportEvent(null)}},cxdj=cxdj||cxCandyObj;!function(){try{var e=document.createElement("script");e.type="text/javascript",e.async="async",e.src="https:"==document.location.protocol?"https://scdn.cxense.com/cx.js":"http://cdn.cxense.com/cx.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}catch(c){}}(),function(){try{var e=document.createElement("script");e.type="text/javascript",e.async="sync",e.src="https:"==document.location.protocol?"https://a248.e.akamai.net/f/248/67675/6h/s2.wsj.net/static_html_files/md5.js":"http://s.wsj.net/static_html_files/md5.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}catch(c){}}();var cX=cX||{};cX.callQueue=cX.callQueue||[],initializeCxense();